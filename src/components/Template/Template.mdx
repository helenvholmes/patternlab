import { ArgTypes, Canvas, Description, Meta, Source } from "@storybook/blocks";
import ComponentChangelogTable from "../../utils/ComponentChangelogTable";
import { changelogData } from "./templateChangelogData";

import * as TemplateStories from "./Template.stories";
import {
  Template,
  TemplateBreakout,
  TemplateTop,
  TemplateSidebar,
  TemplateMain,
  TemplateMainNarrow,
  TemplateBottom,
} from "./Template";
import Link from "../Link/Link";

<Meta of={TemplateStories} />

# Template

| Component Version | DS Version   |
| ----------------- | ------------ |
| Added             | `0.3.6`      |
| Latest            | `Prerelease` |

## Table of Contents

- {<Link href="#template-overview" target="_self">Template Overview</Link>}
- {<Link href="#template-props" target="_self">Template Props</Link>}
- {<Link href="#template-components" target="_self">Template Components</Link>}
- {<Link href="#template-accessibility" target="_self">Template Accessibility</Link>}
- {<Link href="#template-sidebar-configuration" target="_self">Template Sidebar Configuration</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Template Overview

<Source
  code={`
import {
  Template,
  TemplateBreakout,
  TemplateTop,
  TemplateSidebar,
  TemplateMain,
  TemplateBottom
} from "@nypl/design-system-react-components";
//...

<>
  <SkipNavigation />
  <Template sidebar="...">
    <TemplateBreakout>...</TemplateBreakout>
    <TemplateTop>...</TemplateTop>
    <TemplateSidebar>...</TemplateSidebar>
    <TemplateMain>...</TemplateMain>
    <TemplateBottom>...</TemplateBottom>
  </Template>
</>
`} language="jsx" />

## Template Props

<Canvas of={TemplateStories.WithControls} />

<ArgTypes of={TemplateStories.WithControls} />

## Template Components

The components consist of, listed in DOM structure order:

- `Template`
- `TemplateBreakout`
- `TemplateTop`
- `TemplateMain` or `TemplateMainNarrow`
- `TemplateSidebar`
- `TemplateBottom`

### Using the `Template` with the `Header` and `Footer`

TBD.

## Template Accessibility

Wide lines of text are difficult to read and are proven to make it harder for
people to focus, while short lines of text force the eye to travel back too often,
breaking a reader's rhythm. The `TemplateMain` component has a max width of 1280px,
which is too wide for text. If your content includes long chunks of text, you
should use the `TemplateMainNarrow` component instead.

This means you may use `TemplateMain` or `TemplateMainNarrow` depending on your needs,
but the two should not be used in conjunction.

The `TemplateMain` and `TemplateMainNarrow` components render the content as a
`<main>` element with a default "id" of `"mainContent"`. This should be used as
the anchor element that the skip navigation link points to. If your application
is using the current Header, it already contains the skip navigation feature but
make sure it is pointing to the correct anchor element.

Resources

- [WebAim Skip Navigation Link](https://webaim.org/techniques/skipnav/)
- [A11ymatters Skip Navigation Link](https://www.a11ymatters.com/pattern/skip-link/)

## Template Sidebar Configuration

In order to render a sidebar, the `Template` component needs to be aware of it.
Pass the location of the sidebar to the `sidebar` prop as either "left" or "right".

For accessibility purposes, you should also structure the DOM logically. This means
if you are using `sidebar="left"`, place the `TemplateSidebar` before `TemplateMain`.
If you are using `sidebar="right"`, place the `TemplateSidebar` after.

<Source
  code={`
<Template sidebar="left">
  //...
</Template>
`}
  language="jsx"
/>

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
