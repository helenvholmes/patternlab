import { ArgTypes, Canvas, Description, Meta, Source } from "@storybook/blocks";
import * as StatusBadgeStories from "./StatusBadge.stories";

import ComponentChangelogTable from "../../utils/ComponentChangelogTable";
import Link from "../Link/Link";
import { changelogData } from "./statusBadgeChangelogData";

<Meta of={StatusBadgeStories} />

# StatusBadge

| Component Version | DS Version   |
| ----------------- | ------------ |
| Added             | `0.18.7`     |
| Latest            | `Prerelease` |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#component-props" target="_self">Component Props</Link>}
- {<Link href="#accessibility" target="_self">Accessibility</Link>}
- {<Link href="#visual-style" target="_self">Visual Style</Link>}
- {<Link href="#font-size" target="_self">Font Size</Link>}
- {<Link href="#label-capitalization" target="_self">Capitalization</Link>}
- {<Link href="#icons" target="_self">Icons</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Overview

<Description of={StatusBadgeStories} />

## Component Props

<Canvas of={StatusBadgeStories.WithControls} />

<ArgTypes of={StatusBadgeStories.WithControls} />

## Accessibility

The visual aspect of the `StatusBadge` component is able to displays multiple
statuses and priorities through the use of different colors, so it is
recommended to align the usage of the component with the semantic meaning of one
of the component's variants.

However, when using the `StatusBadge` component, the implementation should not
rely on the color alone to convey meaning, as color is not a universal
experience for everyone. It is important that the meaning of the label aligns
with the general meaning associated with the semantic colors used in a specific
variant. In this way, the user will be able to understand the priority of the
`StatusBadge` and not rely just on the color.

## Visual Style

The component offers two props for setting the visuall style:

- `type`
- `level` (deprecated)

### Type

- The semantic `type` variants align with specific uses.
- Refer to the table below for the recommended purpose of each variant.

<Canvas of={StatusBadgeStories.Types} />

### Level (deprecated)

- The `level` variants have been deprecated in favor of the semantic `type`
  variants.
- For backward compatibility, the `level` prop will override the `type` prop.

<Canvas of={StatusBadgeStories.Levels} />

## Font Size

Use the `fontSize` prop to set the font size with the following design tokens:

- `desktop.body.body1`
- `desktop.body.body2`
- `desktop.caption`

The default label font size is `desktop.body.body2`.

<Canvas of={StatusBadgeStories.FontSize} />

## Capitalization

- Capitalization of a badge label will not be forced by the component.
- Labels will render exactly as they are passed into the component.
- Text capitalization is dependent on each use case and final decisions should
  come from Product and UX.

<Canvas of={StatusBadgeStories.Labeling} />

### Icons

- An icon can be rendered within the component by passing a DS `Icon` component
  as a child.
- When using an icon, text should also be included to ensure understanding.
- For proper spacing, add a left or right marign to icons, as needed. Use design
  tokens for spacing vlaues (ex. `marginRight="xs"`).

<Canvas of={StatusBadgeStories.Icons} />

<Source
  code={`
// Icon first (add margin-right)

<StatusBadge level="high">
  <Icon color="brand.primary" mr="xs" name="errorFilled" size="medium" />
  On-Site Access Only
</StatusBadge>

<StatusBadge font-size="caption" type="warning">
  <Icon
    color="ui.warning.secondary"
    mr="xs"
    name="actionHelpDefault"
    size="medium"
  />
  Mising information
</StatusBadge>

// Icon second (add margin-left)

<StatusBadge level="low">
  Registration Required
  <Icon color="ui.black" ml="xs" name="actionIdentityFilled" size="medium" />
</StatusBadge>

<StatusBadge font-size="body1" type="informative">
  Includes audio
  <Icon color="ui.link.secondary" ml="xs" name="headset" size="medium" />
</StatusBadge>
`} language="jsx" />

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
