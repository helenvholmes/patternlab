import { ArgTypes, Canvas, Description, Meta, Source } from "@storybook/blocks";
import * as StatusBadgeStories from "./StatusBadge.stories";

import ComponentChangelogTable from "../../utils/ComponentChangelogTable";
import Link from "../Link/Link";
import { changelogData } from "./statusBadgeChangelogData";

<Meta of={StatusBadgeStories} />

# StatusBadge

| Component Version | DS Version   |
| ----------------- | ------------ |
| Added             | `0.18.7`     |
| Latest            | `Prerelease` |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#component-props" target="_self">Component Props</Link>}
- {<Link href="#accessibility" target="_self">Accessibility</Link>}
- {<Link href="#semantic-types" target="_self">Semantic Types</Link>}
- {<Link href="#levels-deprecated" target="_self">Levels (deprecated)</Link>}
- {<Link href="#font-size" target="_self">Font Size</Link>}
- {<Link href="#labeling" target="_self">Labeling</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Overview

<Description of={StatusBadgeStories} />

## Component Props

<Canvas of={StatusBadgeStories.WithControls} />

<ArgTypes of={StatusBadgeStories.WithControls} />

## Accessibility

The visual aspect of the `StatusBadge` component is able to displays multiple
statuses and priorities through the use of different colors, so it is
recommended to align the usage of the component with the semantic meaning of one
of the component's variants.

However, when using the `StatusBadge` component, the implementation should not
rely on the color alone to convey meaning, as color is not a universal
experience for everyone. It is important that the meaning of the label aligns
with the general meaning associated with the semantic colors used in a specific
variant. In this way, the user will be able to understand the priority of the
`StatusBadge` and not rely just on the color.

## Semantic Types

The semantic `type` variants align with specific uses. Please refer to the
purpose of each variant.

<Canvas of={StatusBadgeStories.SemanticTypes} />

## Levels (deprecated)

The `level` variants have been deprecated in favor of the semantic `type`
variants. However, for backward compatability, the `level` prop will override
the `type` prop.

<Canvas of={StatusBadgeStories.Levels} />

## Font Size

The label font size can be set using the font sizes from the `Text` component:

- `body1`
- `body2`
- `caption`

The default label font size is `body2`.

<Canvas of={StatusBadgeStories.FontSize} />

## Labeling

The capitalization of a badge label will not be forced by the component and
labels will render exactly as they are passed into the component. If an
all-lowercase string is passed in, the label will render all lowercase. If an
all-caps string is passed in, the label will render all caps. And so on.

The text case should be dependent on the use case and the final decision should
ultimately come from Product and UX.

<Canvas of={StatusBadgeStories.Labeling} />

### Icons

You may render an icon within the `StatusBadge` by passing it as a child to the component.
If you are using an icon, you should still pass text to the badge so that the user can
understand its meaning.

You will have to pass a `margin-left` or `margin-right` to add space
between the icon and the text. The use of the design tokens (ie, `xs`) is encouraged.

<Canvas of={StatusBadgeStories.Icons} />

<Source
  code={`
// Icon first (add margin-right)

<StatusBadge level="high">
  <Icon color="brand.primary" mr="xs" name="errorFilled" size="medium" />
  On-Site Access Only
</StatusBadge>

<StatusBadge font-size="caption" type="warning">
  <Icon
    color="ui.warning.secondary"
    mr="xs"
    name="actionHelpDefault"
    size="medium"
  />
  Mising information
</StatusBadge>

// Icon second (add margin-left)

<StatusBadge level="low">
  Registration Required
  <Icon color="ui.black" ml="xs" name="actionIdentityFilled" size="medium" />
</StatusBadge>

<StatusBadge font-size="body1" type="informative">
  Includes audio
  <Icon color="ui.link.secondary" ml="xs" name="headset" size="medium" />
</StatusBadge>
`} language="jsx" />

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
