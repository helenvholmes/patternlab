import { Canvas, Meta, Source } from "@storybook/blocks";
import { BreakPointsExample } from "./useNYPLBreakpoints.stories";
import Link from "../components/Link/Link";

<Meta title="Hooks/useNYPLBreakpoints" />

# useNYPLBreakpoints

| Hook Version | DS Version   |
| ------------ | ------------ |
| Added        | `1.0.4`      |
| Latest       | `Prerelease` |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#mobile-first" target="_self">Mobile-First</Link>}
- {<Link href="#usage" target="_self">Usage</Link>}
- {<Link href="#common-patterns" target="_self">Common Patterns</Link>}
- {<Link href="#code-example" target="_self">Code Example</Link>}
- {<Link href="#functional-example" target="_self">Functional Example</Link>}

## Overview

This custom hook is inspired by Chakra's `useMediaQuery` hook. Internally, the
hook uses the `useMediaQuery` hook and the `MediaMatch` API to determine the
current breakpoint size based on NYPL's breakpoint configuration.

## Mobile-First

In order to follow mobile-first responsive design patterns, the "min-width"
media query is used with the breakpoint configuration. The list of breakpoints
can be found on the [Reservoir's
Breakpoints](../?path=/docs/style-guide-breakpoints--docs) style guide.

## Usage

The hook returns an object with a series of boolean values. Some of the values
adhere to the default Chakra syntax for breakpoints, while others use an NYPL
semantic naming convention.

<Source
  code={`
const {
  // Chakra syntax
  isLargerThanSmall,
  isLargerThanMedium,
  isLargerThanLarge,
  isLargerThanXLarge,
  
  // NYPL semantic syntax
  isLargerThanSmallMobile,
  isLargerThanLargeMobile,
  isLargerThanSmallTablet,
  isLargerThanLargeTablet,
  isLargerThanMobile,
  isLargerThanTablet,
} = useNYPLBreakpoints();
`}
  language="jsx"
/>

## Common Patterns

NYPL Product Designers will often only provide `mobile` and `desktop` layouts.
When necesary, NYPL Product Designer may also provide `tablet` layouts.

When development needs to target only `mobile` and `desktop` viewports:

- use `isLargerThanMobile` to conditionally target the `desktop` viewport

When development needs to target `mobile`, `tablet`, and `desktop` viewports:

- use `isLargerThanMobile` to conditionally target the `tablet` viewport
- use `isLargerThanTablet` to conditionally target the `desktop` viewport

When development needs more granular control when targetting viewports:

- use `isLargerThanSmallMobile` to conditionally target the `large mobile` viewport
- use `isLargerThanLargeMobile` to conditionally target the `small tablet` viewport
- use `isLargerThanSmallTablet` to conditionally target the `large tablet` viewport
- use `isLargerThanLargeTablet` to conditionally target the `desktop` viewport

## Code Example

Conditionally render different components based on the current size of the
viewport.

<Source
  code={`
const DesktopLayout = () => ...
const MobileLayout = () => ...
// ...
<Box>
  <Text>
    {isLargerThanMobile ? "Larger than mobile" : "Smaller than mobile"}
  </Text>
  {isLargerThanMobile ? <DesktopLayout /> : <MobileLayout />}
</Box>
`}
  language="jsx"
/>

## Functional Examples

Change the size of your browser window and watch the text adjust as the width of
the window decreases and increases.

{BreakPointsExample()}

<Source
  code={`
import {
  Heading,
  List,
  Text,
  useNYPLBreakpoints,
} from "@nypl/design-system-react-components";
const {
  isLargerThanSmall,
  isLargerThanMedium,
  isLargerThanLarge,
  isLargerThanXLarge,
  isLargerThanSmallMobile,
  isLargerThanLargeMobile,
  isLargerThanMobile,
  isLargerThanSmallTablet,
  isLargerThanLargeTablet,
  isLargerThanTablet,
} = useNYPLBreakpoints();

<Stack direction="row" spacing="l" width="100%">
  <Box flexBasis="50%">
    <Heading text="Charka Syntax" level="h3" size="heading6" />
    <Text>The windows size is currently:</Text>
    <List type="ul">
      <li>
        {isLargerThanSmall ? <strong>LARGER</strong> : "smaller"} than small
      </li>
      <li>
        {isLargerThanMedium ? <strong>LARGER</strong> : "smaller"} than medium
      </li>
      <li>
        {isLargerThanLarge ? <strong>LARGER</strong> : "smaller"} than large
      </li>
      <li>
        {isLargerThanXLarge ? <strong>LARGER</strong> : "smaller"} than extra
        large
      </li>
    </List>
  </Box>
  <Box flexBasis="50%">
    <Heading text="Semantic Syntax" level="h3" size="heading6" />
    <Text>The windows size is currently:</Text>
    <List type="ul">
      <li>
        {isLargerThanSmallMobile ? <strong>LARGER</strong> : "smaller"} than
        small mobile
      </li>
      <li>
        {isLargerThanLargeMobile ? <strong>LARGER</strong> : "smaller"} than
        large mobile
      </li>
      <li>
        {isLargerThanMobile ? <strong>LARGER</strong> : "smaller"} than mobile
        (small and large)
      </li>
      <li>
        {isLargerThanSmallTablet ? <strong>LARGER</strong> : "smaller"} than
        small tablet
      </li>
      <li>
        {isLargerThanLargeTablet ? <strong>LARGER</strong> : "smaller"} than
        large tablet
      </li>
      <li>
        {isLargerThanTablet ? <strong>LARGER</strong> : "smaller"} than tablet
        (small and large)
      </li>
    </List>
  </Box>
</Stack>
`} language="jsx" />
